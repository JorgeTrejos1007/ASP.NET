@page
@model PIBasesISGrupo1.Pages.Curso.CursoCreadoModel
@{
    ViewData["Title"] = "CursoCreado";
    var nombreCurso = (String)ViewData["nombreCurso"];
}

<head>
   
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/css/bootstrap.min.css" />
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/js/bootstrap.min.js"></script>
</head>
<div style="margin-left:200px; margin-right:200px;">
    <div class="curso-material">
        <div style="display:flex;margin-left:20%;">
            <div style="margin-bottom: 10px;margin-left:10px;">
                <h2><strong>@nombreCurso</strong></h2>
            </div>
            <div style="display:inline-block;margin:auto auto auto 0;">
                <a asp-page="./ModificarInformacionCurso" asp-route-nombreCurso="@nombreCurso" class="primary-btn__reverse text-uppercase enroll rounded-0">
                    <span class="glyphicon glyphicon-pencil"></span>
                </a>

                <a asp-page="./CrearSeccion" asp-route-nombreCurso="@nombreCurso" asp-route-nombrePaginaCurso="./CursoCreado" class="primary-btn__reverse text-uppercase enroll rounded-0">
                    <span class="glyphicon glyphicon-plus-sign"></span> Agregar seccion
                </a>
            </div>
        </div>
    </div>

    <div style="margin-bottom:10px;">
        <div style=" margin-bottom: 5px;margin-left:10px; display:flex;">
            <h3 style="color:#032c56;"><strong>Secciones: </strong></h3>
        </div>
        @{
            @if (@Model.Secciones != null)
            {
                foreach (var item in @Model.Secciones)
                {

                    <button class="accordion">@item.nombreSeccion</button>

                    <div class="panel">

                        @{ foreach (var material in item.listaMateriales)
                            {
                                <p>
                                    <a href="data:@material.tipoArchivo;base64,@(Convert.ToBase64String(material.archivo))" download="@material.nombreMaterial">
                                        <span class="or">@material.nombreMaterial</span>
                                    </a>
                                </p>
                            }
                        }
                        <a asp-page="./ModificarSeccion" asp-route-nombreCurso="@nombreCurso" asp-route-nombreSeccion="@item.nombreSeccion" class="primary-btn__reverse text-uppercase enroll rounded-0">
                            <span class="glyphicon glyphicon-cog"></span> Editar
                        </a>

                    </div>

                }
            }
        }
    </div>
    <br />
    <div class="curso-material">
        <a asp-page="./CursosCreados"class="primary-btn__reverse text-uppercase enroll rounded-0" style="margin-left:87%;margin-right:0;" >
            <span class="glyphicon glyphicon-arrow-left"></span> Volver
        </a>
    </div>
</div>
<script>
    var acc = document.getElementsByClassName("accordion");
    var i;

    for (i = 0; i < acc.length; i++) {
        acc[i].addEventListener("click", function () {
            this.classList.toggle("active");
            var panel = this.nextElementSibling;
            if (panel.style.display === "block") {
                panel.style.display = "none";
            } else {
                panel.style.display = "block";
            }
        });
    }
</script>
