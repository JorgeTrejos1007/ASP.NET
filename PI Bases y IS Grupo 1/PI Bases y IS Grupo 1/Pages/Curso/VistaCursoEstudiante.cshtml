@page
@model PIBasesISGrupo1.Pages.Curso.VistaCursoEstudianteModel
@{
    ViewData["Title"] = "VistaCursoEstudiante";
    var nombreCurso = (String)ViewData["nombreCurso"];
}


<div style="margin-left:200px; margin-right:200px;">
    <div class="curso-material">
        <div style="margin-left:38%;display:flex;">
            <div style="margin-bottom: 10px;margin-left:10px;">
                <h2><strong>@nombreCurso</strong></h2>
            </div>
        </div>
    </div>

    <div style="margin-bottom:20px;">
        <div style=" margin-bottom: 5px;margin-left:10px; display:flex;">
            <h3 style="color:#032c56;"><strong>Secciones: </strong></h3>
        </div>
        @{
            if (@Model.Secciones != null)
            {
                foreach (var item in @Model.Secciones)
                {

                    <button class="accordion">@item.nombreSeccion</button>

                    <div class="panel" style="background-color:#ccc;">

                        @{ foreach (var material in item.listaMateriales)
                            {
                                <p>
                                    <a href="data:@material.tipoArchivo;base64,@(Convert.ToBase64String(material.archivo))" download="@material.nombreMaterial">
                                        <span class="or">@material.nombreMaterial <i class="ti-download" aria-hidden="false"></i></span>
                                    </a>
                                    <br>
                                </p>
                            }
                        }


                    </div>


                }
            }
        }
    </div>
    <div class="curso-material">
        <div style="margin-left:86%; display:inline-flex;">
            <a asp-page="./MisCursosInscritos" class="primary-btn__reverse text-uppercase enroll rounded-0" >
                <i class="ti-back-left" aria-hidden="false"></i> Volver
            </a>
        </div>
    </div>

        <div>
            <hr>
            <div style="display:inline-block; margin-right:55%;">
                <h4>Comparte tu participación en este curso en redes sociales</h4>
            </div>
            <div>
                <a href="https://twitter.com/share?ref_src=twsrc%5Etfw" class="twitter-share-button"
                   data-text="Me he inscrito en el curso de @nombreCurso de la comunidad práctica de aprendizaje. Aquí el enlace a la página de la comunidad:"
                   data-url="http://edustage.azurewebsites.net/" data-hashtags="CompartirConocimientoEsLoMásImportante" data-show-count="false" data-size="large">Tweet</a>
                <script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>
            </div>
        </div>
    </div>
<script>
        var acc = document.getElementsByClassName("accordion");
        var i;

        for (i = 0; i < acc.length; i++) {
            acc[i].addEventListener("click", function () {
                this.classList.toggle("active");
                var panel = this.nextElementSibling;
                if (panel.style.display === "block") {
                    panel.style.display = "none";
                } else {
                    panel.style.display = "block";
                }
            });
        }
</script>

