@page
@model PIBasesISGrupo1.Pages.Certificado.DescargarCertificadoModel
@{
    ViewData["Title"] = "Descargar Certificado";
    var fecha= (string) TempData["fecha"] ;
    var nombreEducador =TempData["nombreEducador"] ;
    var nombreCurso = TempData["nombreCurso"]  ;
    var nombreEstudiante = TempData["nombreEstudiante"] ;
    var firmaCoordinador = (byte[])TempData["firmaCoordinador"];
    var firmaEducador= (byte[])TempData["firmaEducador"];

}
<head>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
    <script src="https://files.codepedia.info/files/uploads/iScripts/html2canvas.js"></script>
    <style>


        .certifica {
            text-align: center;
        }

        #subtitulo {
            font-family: Chancery L;
        }
    </style>
</head>

 

    <div class="certificado__container" id="certificado">

        <div class="certificado__elements">
            <img class="logo-2" src="/img/logo.png" alt="">
            <br />
            <p id="subtitulo" class="certificado__content">Este certificado se otorga a</p>
            <p id="subtitulo" class="certificado__ownerName"><strong>@nombreEstudiante</strong></p>
            <p class="certificado__content">Por completar con exito el curso de</p>
            <p class="certificado__content certificado__content-lessMargin">@nombreCurso</p>
            <p class="certificado__content">Impartido por: @nombreEducador</p>
            <p class="certificado__content">
                Fecha de Emision @fecha.Substring(0, 2)-@fecha.Substring(3, 2)-@fecha.Substring(6, 4)
            </p>
            <div class="certificado__members">
                <div>
                    <img src="data:image/png;base64,@(Convert.ToBase64String(firmaCoordinador))" style="width:200px;height:100px" />
                    <p class="certificado__members__line"></p>
                    <p class="certificado__members__information">Firma coordinador</p>
                </div>
                <div>
                    <img src="data:image/png;base64,@(Convert.ToBase64String(firmaEducador))" style="width:200px;height:100px" />
                    <p class="certificado__members__line"></p>
                    <p class="certificado__members__information">Firma Educador</p>
                </div>
            </div>
            <br />
            <br />
            <br />
        </div>
    </div>

    <button type="submit" onclick="html2canvas" class="primary-btn2 text-uppercase enroll rounded-0" href="#" style="position:relative;left:0%;bottom:130px">Descargar</button>


    <script>html2canvas($('#certificado'), {
            onrendered: function (canvas) {
                var dataURL = canvas.toDataURL();
                document.getElementById("informacionImagen").value = dataURL;
            }
        });</script>
 
